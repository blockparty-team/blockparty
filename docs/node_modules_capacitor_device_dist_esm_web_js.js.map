{"version":3,"file":"node_modules_capacitor_device_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/device/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class DeviceWeb extends WebPlugin {\n    async getId() {\n        return {\n            uuid: this.getUid(),\n        };\n    }\n    async getInfo() {\n        if (typeof navigator === 'undefined' || !navigator.userAgent) {\n            throw this.unavailable('Device API not available in this browser');\n        }\n        const ua = navigator.userAgent;\n        const uaFields = this.parseUa(ua);\n        return {\n            model: uaFields.model,\n            platform: 'web',\n            operatingSystem: uaFields.operatingSystem,\n            osVersion: uaFields.osVersion,\n            manufacturer: navigator.vendor,\n            isVirtual: false,\n            webViewVersion: uaFields.browserVersion,\n        };\n    }\n    async getBatteryInfo() {\n        if (typeof navigator === 'undefined' || !navigator.getBattery) {\n            throw this.unavailable('Device API not available in this browser');\n        }\n        let battery = {};\n        try {\n            battery = await navigator.getBattery();\n        }\n        catch (e) {\n            // Let it fail, we don't care\n        }\n        return {\n            batteryLevel: battery.level,\n            isCharging: battery.charging,\n        };\n    }\n    async getLanguageCode() {\n        return {\n            value: navigator.language,\n        };\n    }\n    parseUa(ua) {\n        const uaFields = {};\n        const start = ua.indexOf('(') + 1;\n        let end = ua.indexOf(') AppleWebKit');\n        if (ua.indexOf(') Gecko') !== -1) {\n            end = ua.indexOf(') Gecko');\n        }\n        const fields = ua.substring(start, end);\n        if (ua.indexOf('Android') !== -1) {\n            const tmpFields = fields.replace('; wv', '').split('; ').pop();\n            if (tmpFields) {\n                uaFields.model = tmpFields.split(' Build')[0];\n            }\n            uaFields.osVersion = fields.split('; ')[1];\n        }\n        else {\n            uaFields.model = fields.split('; ')[0];\n            if (typeof navigator !== 'undefined' && navigator.oscpu) {\n                uaFields.osVersion = navigator.oscpu;\n            }\n            else {\n                if (ua.indexOf('Windows') !== -1) {\n                    uaFields.osVersion = fields;\n                }\n                else {\n                    const tmpFields = fields.split('; ').pop();\n                    if (tmpFields) {\n                        const lastParts = tmpFields\n                            .replace(' like Mac OS X', '')\n                            .split(' ');\n                        uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');\n                    }\n                }\n            }\n        }\n        if (/android/i.test(ua)) {\n            uaFields.operatingSystem = 'android';\n        }\n        else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\n            uaFields.operatingSystem = 'ios';\n        }\n        else if (/Win/.test(ua)) {\n            uaFields.operatingSystem = 'windows';\n        }\n        else if (/Mac/i.test(ua)) {\n            uaFields.operatingSystem = 'mac';\n        }\n        else {\n            uaFields.operatingSystem = 'unknown';\n        }\n        // Check for browsers based on non-standard javascript apis, only not user agent\n        const isFirefox = !!window.InstallTrigger;\n        const isSafari = !!window.ApplePaySession;\n        const isChrome = !!window.chrome;\n        const isEdge = /Edg/.test(ua);\n        const isFirefoxIOS = /FxiOS/.test(ua);\n        const isChromeIOS = /CriOS/.test(ua);\n        const isEdgeIOS = /EdgiOS/.test(ua);\n        // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\n        if (isSafari ||\n            (isChrome && !isEdge) ||\n            isFirefoxIOS ||\n            isChromeIOS ||\n            isEdgeIOS) {\n            // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\n            // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\n            // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\n            // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\n            let searchWord;\n            if (isFirefoxIOS) {\n                searchWord = 'FxiOS';\n            }\n            else if (isChromeIOS) {\n                searchWord = 'CriOS';\n            }\n            else if (isEdgeIOS) {\n                searchWord = 'EdgiOS';\n            }\n            else if (isSafari) {\n                searchWord = 'Version';\n            }\n            else {\n                searchWord = 'Chrome';\n            }\n            const words = ua.split(' ');\n            for (const word of words) {\n                if (word.includes(searchWord)) {\n                    const version = word.split('/')[1];\n                    uaFields.browserVersion = version;\n                }\n            }\n        }\n        else if (isFirefox || isEdge) {\n            const reverseUA = ua.split('').reverse().join('');\n            const reverseVersion = reverseUA.split('/')[0];\n            const version = reverseVersion.split('').reverse().join('');\n            uaFields.browserVersion = version;\n        }\n        return uaFields;\n    }\n    getUid() {\n        if (typeof window !== 'undefined') {\n            let uid = window.localStorage.getItem('_capuid');\n            if (uid) {\n                return uid;\n            }\n            uid = this.uuid4();\n            window.localStorage.setItem('_capuid', uid);\n            return uid;\n        }\n        return this.uuid4();\n    }\n    uuid4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n}\n"],"names":["WebPlugin","DeviceWeb","getId","uuid","getUid","getInfo","navigator","userAgent","unavailable","ua","uaFields","parseUa","model","platform","operatingSystem","osVersion","manufacturer","vendor","isVirtual","webViewVersion","browserVersion","getBatteryInfo","getBattery","battery","e","batteryLevel","level","isCharging","charging","getLanguageCode","value","language","start","indexOf","end","fields","substring","tmpFields","replace","split","pop","oscpu","lastParts","length","test","window","MSStream","isFirefox","InstallTrigger","isSafari","ApplePaySession","isChrome","chrome","isEdge","isFirefoxIOS","isChromeIOS","isEdgeIOS","searchWord","words","word","includes","version","reverseUA","reverse","join","reverseVersion","uid","localStorage","getItem","uuid4","setItem","c","r","Math","random","v","toString"],"sourceRoot":"webpack:///"}