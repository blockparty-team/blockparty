<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/map" icon="chevron-back">
      </ion-back-button>
    </ion-buttons>
    <ion-title>Tickets</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <section class="ion-padding ion-text-center">
    <p>Buy tickets below</p>
  </section>

  <ion-accordion-group>
    <ng-content />

    <!-- Generated accordions from event/types -->
    @if (eventsGroupedByType$ | async; as eventTypes) { @for (eventType of
    eventTypes; track eventType) {
    <ion-accordion>
      <ion-item
        slot="header"
        [style.--background]="eventType.color ? eventType.color : 'gray'"
      >
        <ion-label color="dark">
          <h2>{{eventType.name}}</h2>
        </ion-label>
      </ion-item>
      <div
        class="ion-padding"
        slot="content"
        [style.background-color]="eventType.color"
      >
        <ion-list lines="none">
          @for (event of eventType.event; track event) { @for (ticket of
          event.tickets; track ticket) {
          <ion-item (click)="onGoToTicket(ticket.url)" button="true">
            <ion-icon name="ticket" color="light" slot="start"> </ion-icon>
            {{ticket.name}}
          </ion-item>
          } }
        </ion-list>
      </div>
    </ion-accordion>
    } }
  </ion-accordion-group>
</ion-content>
